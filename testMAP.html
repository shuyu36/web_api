<!DOCTYPE html>
<html>

<head>
    <title>Google Maps API 叢集標記範例</title>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBy5_SjUbRXayyiYVb9QaQSlRUW6CSM5Io"></script>
    <script src="https://unpkg.com/@googlemaps/markerclusterer/dist/index.min.js"></script>
</head>

<body>
    <div id="map" style="width: 800px; height: 600px;"></div>

    <script>
        const locations = [
            { lat: 25.071444, lng:  121.363320 },
            { lat: 30.36635476776626, lng: 120.20348384432904 },
            { lat: 25.05952867154747, lng: 121.52604498592476 },
        ];

        function initMap() {
            const map = new google.maps.Map(document.getElementById("map"), {
                zoom: 4,
                center: { lat: 25.048787, lng: 121.517071 }
            });

            const img = "img/placeholder.png";
            for (let i = 0; i < locations.length; i++) {
                const marker = new google.maps.Marker({
                    position: locations[i],
                    map: map,
                    tittle: "地點i",
                    icon: img
                });
            }

            // 創建標記
            const markers = locations.map((position, i) => {
                return new google.maps.Marker({
                    position,
                    label: `${i + 1}` // 使用數字作為標記的標籤
                });
            });

            // 創建叢集標記
            const markerCluster = new markerClusterer.MarkerClusterer({ map, markers });
        }

        // 載入地圖
        initMap();
    </script>
</body>

</html>
